import{b9 as m,u as M,_ as e,al as i,am as h,ak as g,n as p,c as _,p as y,f as A,r as E,ep as k,b0 as C,eb as l,cA as r,a$ as c,R as o,K as w,eq as D,G as x,a2 as P}from"../index-961d4ed1.js";import{u as F}from"./accounts-a5e55437.js";const S=p({label:{id:"settings.messages.label",defaultMessage:"Allow users to start a new chat with you"}}),I=()=>{var n;const{account:d}=m(),s=M(),u=F(),t=f=>{u.mutate({accepts_chat_messages:f.target.checked})};return d?e(g,{},void 0,e(i,{label:s.formatMessage(S.label)},void 0,e(h,{checked:(n=d.pleroma)==null?void 0:n.accepts_chat_messages,onChange:t}))):null},a=p({accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},accountMigration:{id:"settings.account_migration",defaultMessage:"Move Account"},backups:{id:"column.backups",defaultMessage:"Backups"},blocks:{id:"settings.blocks",defaultMessage:"Blocks"},changeEmail:{id:"settings.change_email",defaultMessage:"Change Email"},changePassword:{id:"settings.change_password",defaultMessage:"Change Password"},configureMfa:{id:"settings.configure_mfa",defaultMessage:"Configure MFA"},deleteAccount:{id:"settings.delete_account",defaultMessage:"Delete Account"},editProfile:{id:"settings.edit_profile",defaultMessage:"Edit Profile"},exportData:{id:"column.export_data",defaultMessage:"Export data"},importData:{id:"navigation_bar.import_data",defaultMessage:"Import data"},mfaDisabled:{id:"mfa.disabled",defaultMessage:"Disabled"},mfaEnabled:{id:"mfa.enabled",defaultMessage:"Enabled"},mutes:{id:"settings.mutes",defaultMessage:"Mutes"},other:{id:"settings.other",defaultMessage:"Other options"},preferences:{id:"settings.preferences",defaultMessage:"Preferences"},privacy:{id:"settings.privacy",defaultMessage:"Privacy"},profile:{id:"settings.profile",defaultMessage:"Profile"},security:{id:"settings.security",defaultMessage:"Security"},sessions:{id:"settings.sessions",defaultMessage:"Active sessions"},settings:{id:"settings.settings",defaultMessage:"Settings"}}),N=()=>{const d=_(),s=M(),u=y(v=>v.security.get("mfa")),t=A(),{account:n}=m(),f=u.getIn(["settings","totp"]);if(E.useEffect(()=>{t.security&&d(k())},[d]),!n)return null;const b=n.display_name||n.username;return e(P,{label:s.formatMessage(a.settings),transparent:!0,withHeader:!1},void 0,e(C,{className:"space-y-4",variant:"rounded"},void 0,e(l,{},void 0,e(r,{title:s.formatMessage(a.profile)})),e(c,{},void 0,e(g,{},void 0,e(i,{label:s.formatMessage(a.editProfile),to:"/settings/profile"},void 0,e("span",{className:"max-w-full truncate"},void 0,b)))),e(l,{},void 0,e(r,{title:s.formatMessage(a.privacy)})),e(c,{},void 0,e(g,{},void 0,e(i,{label:s.formatMessage(a.mutes),to:"/mutes"}),e(i,{label:s.formatMessage(a.blocks),to:"/blocks"}))),(t.security||t.sessions)&&o.createElement(o.Fragment,null,e(l,{},void 0,e(r,{title:s.formatMessage(a.security)})),e(c,{},void 0,e(g,{},void 0,t.security&&o.createElement(o.Fragment,null,e(i,{label:s.formatMessage(a.changeEmail),to:"/settings/email"}),e(i,{label:s.formatMessage(a.changePassword),to:"/settings/password"}),e(i,{label:s.formatMessage(a.configureMfa),to:"/settings/mfa"},void 0,e("span",{},void 0,f?s.formatMessage(a.mfaEnabled):s.formatMessage(a.mfaDisabled)))),t.sessions&&e(i,{label:s.formatMessage(a.sessions),to:"/settings/tokens"})))),t.chats?o.createElement(o.Fragment,null,e(l,{},void 0,e(r,{title:e(w,{id:"column.chats",defaultMessage:"Chats"})})),e(c,{},void 0,e(I,{}))):null,e(l,{},void 0,e(r,{title:s.formatMessage(a.preferences)})),e(c,{},void 0,e(D,{})),(t.security||t.accountAliases)&&o.createElement(o.Fragment,null,e(l,{},void 0,e(r,{title:s.formatMessage(a.other)})),e(c,{},void 0,e(g,{},void 0,t.importData&&e(i,{label:s.formatMessage(a.importData),to:"/settings/import"}),t.exportData&&e(i,{label:s.formatMessage(a.exportData),to:"/settings/export"}),t.backups&&e(i,{label:s.formatMessage(a.backups),to:"/settings/backups"}),t.federating&&(t.accountMoving?e(i,{label:s.formatMessage(a.accountMigration),to:"/settings/migrations"}):t.accountAliases&&e(i,{label:s.formatMessage(a.accountAliases),to:"/settings/aliases"})),t.security&&e(i,{label:e(x,{theme:"danger"},void 0,s.formatMessage(a.deleteAccount)),to:"/settings/account"}))))))};export{N as default};
