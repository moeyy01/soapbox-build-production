import{u as f,c as m,R as c,eA as d,bq as o,eB as E,_ as r,aP as l,aE as C,n as p}from"../index-961d4ed1.js";const s={IDLE:"IDLE",SUCCESS:"SUCCESS",FAIL:"FAIL"},g=p({success:{id:"email_confirmation.success",defaultMessage:"Your email has been confirmed!"}}),e=new URLSearchParams(window.location.search).get("confirmation_token"),I=()=>{const i=f(),u=m(),[a,t]=c.useState(s.IDLE);return c.useEffect(()=>{e&&u(d(e)).then(()=>{t(s.SUCCESS),o.success(i.formatMessage(g.success))}).catch(n=>{if(t(s.FAIL),n.response.data.error){const S=E(n.response.data.error);o.error(S)}})},[e]),!e||a===s.SUCCESS||a===s.FAIL?r(l,{to:"/"}):r(C,{})};export{I as default};
