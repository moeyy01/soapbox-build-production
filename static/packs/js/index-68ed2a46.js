import{u as A,c as C,p as c,_ as e,ab as h,ae as m,bX as b,I as L,aH as _,n as M,ec as R,ed as w,X as I,r as x,ee as k,ef as N,eb as f,cA as g,M as E,K as q,bv as D}from"../index-961d4ed1.js";import{N as F}from"./new-list-form-c594fb87.js";const p=M({remove:{id:"lists.account.remove",defaultMessage:"Remove from list"},add:{id:"lists.account.add",defaultMessage:"Add to list"}}),P=t=>{let{listId:s}=t;const a=A(),o=C(),d=c(n=>n.lists.get(s)),r=c(n=>n.listAdder.lists.items.includes(s)),u=()=>o(R(s)),i=()=>o(w(s));if(!d)return null;let l;return r?l=e(m,{iconClassName:"h-5 w-5",src:h,title:a.formatMessage(p.remove),onClick:u}):l=e(m,{iconClassName:"h-5 w-5",src:b,title:a.formatMessage(p.add),onClick:i}),e("div",{className:"flex items-center gap-1.5 px-2 py-4 text-black dark:text-white"},void 0,e(L,{src:_}),e("span",{className:"grow"},void 0,d.title),l)},v=M({close:{id:"lightbox.close",defaultMessage:"Close"},subheading:{id:"lists.subheading",defaultMessage:"Your lists"},add:{id:"lists.new.create",defaultMessage:"Add List"}}),S=I([t=>t.lists],t=>t&&t.toList().filter(s=>!!s).sort((s,a)=>s.title.localeCompare(a.title))),X=t=>{let{accountId:s,onClose:a}=t;const o=A(),d=C(),r=c(i=>S(i).map(l=>l.id));return x.useEffect(()=>(d(k(s)),()=>{d(N())}),[]),e(D,{title:e(q,{id:"list_adder.header_title",defaultMessage:"Add or Remove from Lists"}),onClose:()=>{a("LIST_ADDER")}},void 0,e(E,{id:s,withRelationship:!1}),e("br",{}),e(f,{},void 0,e(g,{title:o.formatMessage(v.add)})),e(F,{}),e("br",{}),e(f,{},void 0,e(g,{title:o.formatMessage(v.subheading)})),e("div",{},void 0,r.map(i=>e(P,{listId:i},i))))};export{X as default};
