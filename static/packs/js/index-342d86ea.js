import{_ as e,a8 as h,G as x,el as c,em as m,r as u,b0 as y,c7 as g,jx as k,jy as N,aN as _,p as l,jz as w,N as E,u as C,c as j,jA as M,jB as I,H as L,cA as p,K as r,af as z,a2 as R,a$ as f,eb as S,n as P,C as A}from"../index-961d4ed1.js";import{R as T}from"./index-c8dcab95.js";import"./warning-07d0fac9.js";const H=()=>{const i=m(5,25),t=m(5,15);return e("div",{className:"relative w-full animate-pulse overflow-hidden rounded-lg bg-gray-100 text-primary-50 dark:bg-primary-800 dark:text-primary-800"},void 0,e("div",{className:"h-40 bg-primary-200 dark:bg-gray-600"}),e(h,{className:"p-2.5",space:2},void 0,e(x,{weight:"semibold"},void 0,c(i)),e("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-gray-700 dark:text-gray-600"},void 0,e("span",{},void 0,c(t)),e("span",{},void 0,c(t)),e("span",{},void 0,c(t)))))},B=i=>{let{id:t}=i;const o=u.useCallback(_(),[]),n=l(a=>o(a,{id:t}));return n?e(E,{className:"w-full px-1",to:`/@${n.getIn(["account","acct"])}/events/${n.id}`},void 0,e(w,{status:n,floatingAction:!1})):null},b=i=>{let{statusIds:t,isLoading:o,emptyMessage:n}=i;const[a,v]=u.useState(0),d=s=>{v(s%t.size)};return t.size===0?o?e(H,{}):e(y,{variant:"rounded",size:"lg"},void 0,n):e("div",{className:"relative -mx-1"},void 0,a!==0&&e("div",{className:"absolute left-3 top-1/2 z-10 -mt-4"},void 0,e("button",{onClick:()=>d(a-1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/50 backdrop-blur dark:bg-gray-900/50"},void 0,e(g,{src:N,className:"h-6 w-6 text-black dark:text-white"}))),e(T,{animateHeight:!0,index:a,onChangeIndex:d},void 0,t.map(s=>e(B,{id:s},s))),a!==t.size-1&&e("div",{className:"absolute right-3 top-1/2 z-10 -mt-4"},void 0,e("button",{onClick:()=>d(a+1),className:"flex h-8 w-8 items-center justify-center rounded-full bg-white/50 backdrop-blur dark:bg-gray-900/50"},void 0,e(g,{src:k,className:"h-6 w-6 text-black dark:text-white"}))))},$=P({title:{id:"column.events",defaultMessage:"Events"}}),J=()=>{const i=C(),t=j(),o=l(s=>s.status_lists.get("recent_events").items),n=l(s=>s.status_lists.get("recent_events").isLoading),a=l(s=>s.status_lists.get("joined_events").items),v=l(s=>s.status_lists.get("joined_events").isLoading),d=()=>{t(A("COMPOSE_EVENT"))};return u.useEffect(()=>{t(M()),t(I())},[]),e(R,{label:i.formatMessage($.title)},void 0,e(L,{className:"mb-2",space:2,justifyContent:"between"},void 0,e(p,{title:e(r,{id:"events.recent_events",defaultMessage:"Recent events"})}),e(z,{className:"ml-auto xl:hidden",theme:"primary",size:"sm",onClick:d},void 0,e(r,{id:"events.create_event",defaultMessage:"Create event"}))),e(f,{className:"mb-2"},void 0,e(b,{statusIds:o,isLoading:n,emptyMessage:e(r,{id:"events.recent_events.empty",defaultMessage:"There are no public events yet."})})),e(S,{className:"mb-2"},void 0,e(p,{title:e(r,{id:"events.joined_events",defaultMessage:"Joined events"})})),e(f,{},void 0,e(b,{statusIds:a,isLoading:v,emptyMessage:e(r,{id:"events.joined_events.empty",defaultMessage:"You haven't joined any event yet."})})))};export{J as default};
