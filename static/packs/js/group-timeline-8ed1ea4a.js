import{v as x}from"./message-2-4812435d.js";import{a9 as k,aU as w,u as M,b9 as N,c as F,r as c,dD as R,p as u,dB as D,dE as E,jV as g,jW as $,jX as j,_ as e,R as A,H as f,a1 as z,N as L,c9 as V,dC as H,G as v,K as h,am as K,a8 as b,c7 as O,dG as q}from"../index-961d4ed1.js";import{T as B}from"./timeline-69e892a4.js";import"./scroll-top-button-ff8ae8be.js";import"./status-list-e5eaf038.js";import"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";import"./status-container-8c0c48ff.js";import"./pending-status-d95ac051.js";import"./poll-preview-bd47b324.js";import"./noop-33ff36b4.js";function P(i){return k(`group:${i}`,`group&group=${i}`)}const U=w(),ie=i=>{var l;const y=M(),{account:n}=N(),r=F(),p=c.useRef(null),{groupId:s}=i.params,{group:a}=R(s),t=`group:${s}`,T=!!n&&((l=a==null?void 0:a.relationship)==null?void 0:l.member),d=u(o=>{var m;return!!((m=o.compose.get(t))!=null&&m.group_timeline_visible)}),_=u(o=>U(o,{type:`group:${a==null?void 0:a.id}:pinned`})),{isDragging:G,isDraggedOver:C}=D(p,o=>{r(E(t,o,y))}),I=o=>{r(g(s,{maxId:o}))},S=()=>{r(q(t,!d))};return P(s),c.useEffect(()=>{r(g(s)),r($(s)),r(j(t,s))},[s]),a?e(b,{space:2},void 0,T&&e("div",{className:"border-b border-solid border-gray-200 py-6 dark:border-gray-800"},void 0,A.createElement(f,{ref:p,alignItems:"start",space:4,className:z("relative rounded-xl transition",{"border-2 border-primary-600 border-dashed z-[99] p-4":G,"ring-2 ring-offset-2 ring-primary-600":C})},e(L,{to:`/@${n.acct}`},void 0,e(V,{src:n.avatar,size:46})),e(H,{id:t,shouldCondense:!0,autoFocus:!1,group:s,extra:!a.locked&&e(f,{alignItems:"center",space:4},void 0,e("label",{className:"ml-auto cursor-pointer",htmlFor:"group-timeline-visible"},void 0,e(v,{theme:"muted"},void 0,e(h,{id:"compose_group.share_to_followers",defaultMessage:"Share with my followers"}))),e(K,{id:"group-timeline-visible",checked:d,onChange:S,size:"sm"}))}))),e(B,{scrollKey:"group_timeline",timelineId:t,onLoadMore:I,emptyMessage:e(b,{space:4,className:"py-6",justifyContent:"center",alignItems:"center"},void 0,e("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,e(O,{src:x,className:"h-6 w-6 text-gray-600"})),e(v,{theme:"muted"},void 0,e(h,{id:"empty_column.group",defaultMessage:"There are no posts in this group yet."}))),emptyMessageCard:!1,divideType:"border",showGroup:!1,featuredStatusIds:_})):null};export{ie as default};
