import{c as C,q as E,r as s,p as r,dX as b,h_ as x,h$ as l,i0 as H,R,ay as M,a1 as w,_ as o,a$ as A,b0 as g}from"../index-961d4ed1.js";import{u as k}from"./usePopper-596e1bae.js";import{S as B}from"./status-container-8c0c48ff.js";const $=p=>{let{visible:n=!0}=p;const a=C(),i=E(),[d,f]=s.useState(null),t=r(e=>e.status_hover_card.statusId||void 0),u=r(e=>e.statuses.get(t)),v=r(e=>{var c;return(c=e.status_hover_card.ref)==null?void 0:c.current});s.useEffect(()=>{t&&!u&&a(b(t))},[t,u]),s.useEffect(()=>{const e=i.listen(()=>{x.cancel(),a(l())});return()=>{e()}},[]);const{styles:m,attributes:h}=k(v,d,{placement:"top"}),S=s.useCallback(()=>()=>{a(H())},[]),_=s.useCallback(()=>()=>{a(l(!0))},[]);if(!t)return null;const y=e=>o(B,{id:e,hoverable:!1,hideActionBar:!0,muted:!0},e);return R.createElement("div",M({className:w({"absolute transition-opacity w-[500px] z-50 top-0 left-0":!0,"opacity-100":n,"opacity-0 pointer-events-none":!n}),ref:f,style:m.popper},h.popper,{onMouseEnter:S(),onMouseLeave:_()}),o(g,{className:"relative"},void 0,o(A,{},void 0,y(t))))};export{$ as StatusHoverCard,$ as default};
