import{t as h,_ as e,a8 as R,K as i,R as m,I as M,H as k,G as w,d8 as P,bg as q,dm as _,dh as I}from"../index-961d4ed1.js";const T="/packs/assets/shield-check-779757f8.svg",x="/packs/assets/shield-lock-e937dcf4.svg",F="/packs/assets/shield-x-f4ef9453.svg",S=o=>o.get("federation").deleteAll(["accept","reject_deletes","report_removal"]).reduce((s,n)=>s||n,!1),a=o=>{let{icon:s,children:n}=o;return e(k,{space:3},void 0,e(M,{className:"h-5 w-5 flex-none",src:s}),e(w,{theme:"muted"},void 0,n))},H=o=>{let{remoteInstance:s}=o;const n=h(),f=()=>{const t=[],{avatar_removal:r,banner_removal:l,federated_timeline_removal:u,followers_only:v,media_nsfw:g,media_removal:c}=s.get("federation").toJS(),d=c&&r&&l,p=c||r||l;return v?t.push(e(a,{icon:P},"followersOnly",e(i,{id:"federation_restriction.followers_only",defaultMessage:"Hidden except to followers"}))):u&&t.push(e(a,{icon:q},"federatedTimelineRemoval",e(i,{id:"federation_restriction.federated_timeline_removal",defaultMessage:"Fediverse timeline removal"}))),d?t.push(e(a,{icon:_},"fullMediaRemoval",e(i,{id:"federation_restriction.full_media_removal",defaultMessage:"Full media removal"}))):p&&t.push(e(a,{icon:_},"partialMediaRemoval",e(i,{id:"federation_restriction.partial_media_removal",defaultMessage:"Partial media removal"}))),!d&&g&&t.push(e(a,{icon:I},"mediaNsfw",e(i,{id:"federation_restriction.media_nsfw",defaultMessage:"Attachments marked NSFW"}))),t};return e(R,{space:3},void 0,(()=>{if(!n||!s)return null;const t=s.get("host"),r=n.get("title");return s.getIn(["federation","reject"])===!0?e(a,{icon:F},void 0,e(i,{id:"remote_instance.federation_panel.restricted_message",defaultMessage:"{siteTitle} blocks all activities from {host}.",values:{host:t,siteTitle:r}})):S(s)?m.createElement(m.Fragment,null,e(a,{icon:x},void 0,e(i,{id:"remote_instance.federation_panel.some_restrictions_message",defaultMessage:"{siteTitle} has placed some restrictions on {host}.",values:{host:t,siteTitle:r}})),f()):e(a,{icon:T},void 0,e(i,{id:"remote_instance.federation_panel.no_restrictions_message",defaultMessage:"{siteTitle} has placed no restrictions on {host}.",values:{host:t,siteTitle:r}}))})())};export{H as I};
