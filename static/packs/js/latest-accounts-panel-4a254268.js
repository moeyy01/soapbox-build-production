import{u as _,q as M,c as x,p as c,ar as k,r as n,f_ as v,gD as y,h5 as D,_ as i,M as E,n as I}from"../index-961d4ed1.js";import{W as S}from"./widget-a1deeca4.js";import"./arrow-right-b75290c7.js";const r=I({title:{id:"admin.latest_accounts_panel.title",defaultMessage:"Latest Accounts"},expand:{id:"admin.latest_accounts_panel.more",defaultMessage:"Click to see {count, plural, one {# account} other {# accounts}}"}}),T=l=>{let{limit:s=5}=l;const a=_(),u=M(),d=x(),e=c(t=>t.admin.get("latestUsers").take(s)),p=c(t=>e.every(A=>{var o;return!!((o=k(t,A))!=null&&o.created_at)})),[m,f]=n.useState(e.size);n.useEffect(()=>{d(v(["local","active"],1,null,s)).then(t=>{f(t.count)}).catch(()=>{})},[]);const h=e.sort(y).reverse();if(!(p&&D(e,h))||!e||e.isEmpty())return null;const g=()=>{u.push("/soapbox/admin/users")};return i(S,{title:a.formatMessage(r.title),onActionClick:g,actionTitle:a.formatMessage(r.expand,{count:m})},void 0,e.take(s).map(t=>i(E,{id:t,withRelationship:!1,withDate:!0},t)))};export{T as default};
