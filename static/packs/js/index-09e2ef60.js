import{u as m,c as g,p as r,_ as e,ab as T,ae as b,bX as A,M as k,H as C,n as v,e4 as I,e5 as N,bH as S,af as _,bF as w,cS as R,cT as M,I as x,a1 as y,e6 as F,e7 as D,e8 as H,r as q,e9 as P,ea as $,eb as h,cA as f,K as B,bv as j}from"../index-961d4ed1.js";import{v as z}from"./backspace-c284aa0a.js";const E=v({remove:{id:"lists.account.remove",defaultMessage:"Remove from list"},add:{id:"lists.account.add",defaultMessage:"Add to list"}}),L=a=>{let{accountId:t}=a;const i=m(),o=g(),n=r(s=>s.listEditor.accounts.items.includes(t)),c=()=>o(I(t)),d=()=>o(N(t));let l;return n?l=e(b,{src:T,iconClassName:"h-5 w-5",title:i.formatMessage(E.remove),onClick:c}):l=e(b,{src:A,iconClassName:"h-5 w-5",title:i.formatMessage(E.add),onClick:d}),e(C,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,e("div",{className:"w-full"},void 0,e(k,{id:t,withRelationship:!1})),l)},K=v({title:{id:"lists.edit.submit",defaultMessage:"Change title"},save:{id:"lists.new.save_title",defaultMessage:"Save Title"}}),V=()=>{const a=m(),t=g(),i=r(s=>s.listEditor.title),o=r(s=>!s.listEditor.isChanged),n=s=>{t(R(s.target.value))},c=s=>{s.preventDefault(),t(M(!1))},d=()=>{t(M(!1))},l=a.formatMessage(K.save);return e(w,{onSubmit:c},void 0,e(C,{space:2},void 0,e(S,{outerClassName:"grow",type:"text",value:i,onChange:n}),e(_,{onClick:d,disabled:o},void 0,l)))},u=v({search:{id:"lists.search",defaultMessage:"Search among people you follow"},searchTitle:{id:"tabs_bar.search",defaultMessage:"Search"}}),X=()=>{const a=m(),t=g(),i=r(l=>l.listEditor.suggestions.value),o=l=>{t(F(l.target.value))},n=()=>{t(D(i))},c=()=>{t(H())},d=i.length>0;return e(w,{onSubmit:n},void 0,e(C,{space:2},void 0,e("label",{className:"relative grow"},void 0,e("span",{style:{display:"none"}},void 0,a.formatMessage(u.search)),e(S,{type:"text",value:i,onChange:o,placeholder:a.formatMessage(u.search)}),e("div",{role:"button",tabIndex:0,className:"search__icon",onClick:c},void 0,e(x,{src:z,"aria-label":a.formatMessage(u.search),className:y("svg-icon--backspace",{active:d})}))),e(_,{onClick:n},void 0,a.formatMessage(u.searchTitle))))},p=v({close:{id:"lightbox.close",defaultMessage:"Close"},changeTitle:{id:"lists.edit.submit",defaultMessage:"Change title"},addToList:{id:"lists.account.add",defaultMessage:"Add to list"},removeFromList:{id:"lists.account.remove",defaultMessage:"Remove from list"},editList:{id:"lists.edit",defaultMessage:"Edit list"}}),O=a=>{let{listId:t,onClose:i}=a;const o=m(),n=g(),c=r(s=>s.listEditor.accounts.items),d=r(s=>s.listEditor.suggestions.items);return q.useEffect(()=>(n(P(t)),()=>{n($())}),[]),e(j,{title:e(B,{id:"lists.edit",defaultMessage:"Edit list"}),onClose:()=>{i("LIST_ADDER")}},void 0,e(h,{},void 0,e(f,{title:o.formatMessage(p.changeTitle)})),e(V,{}),e("br",{}),c.size>0&&e("div",{},void 0,e(h,{},void 0,e(f,{title:o.formatMessage(p.removeFromList)})),e("div",{className:"max-h-48 overflow-y-auto"},void 0,c.map(s=>e(L,{accountId:s},s)))),e("br",{}),e(h,{},void 0,e(f,{title:o.formatMessage(p.addToList)})),e(X,{}),e("div",{className:"max-h-48 overflow-y-auto"},void 0,d.map(s=>e(L,{accountId:s},s))))};export{O as default};
