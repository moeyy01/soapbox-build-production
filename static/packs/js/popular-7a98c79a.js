import{u as x,r as n,_ as t,a1 as L,R as l,ay as d,a2 as b,n as g}from"../index-961d4ed1.js";import{V as h,a as w}from"./index-c72bc579.js";import{u as R}from"./usePopularGroups-8db4dafa.js";import{G as y}from"./layout-list-0e6136f9.js";import{G as I}from"./group-list-item-80a96dc7.js";import{G as c,L as S}from"./layout-buttons-cd730444.js";import"./group-header-image-9d6945b3.js";const _=g({label:{id:"groups.popular.label",defaultMessage:"Popular Groups"}}),v=l.forwardRef((r,o)=>{const{context:u,...s}=r;return l.createElement("div",d({ref:o},s,{className:"flex flex-wrap"}))}),T=()=>{const r=x(),[o,u]=n.useState(c.LIST),{groups:s,hasNextPage:p,fetchNextPage:m}=R(),i=()=>{p&&m()},f=n.useCallback((e,a)=>t("div",{className:L({"pt-4":a!==0})},void 0,t(I,{group:e,withJoinAction:!0})),[]),G=n.useCallback(e=>t(y,{group:e}),[]);return t(b,{label:r.formatMessage(_.label),action:t(S,{layout:o,onSelect:e=>u(e)})},void 0,o===c.LIST?t(h,{useWindowScroll:!0,data:s,itemContent:(e,a)=>f(a,e),endReached:i}):t(w,{useWindowScroll:!0,data:s,itemContent:(e,a)=>G(a),components:{Item:e=>l.createElement("div",d({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"})),List:v},endReached:i}))};export{T as default};
