import{t as v,g1 as R,jJ as C,bn as y,c as k,h7 as E,q,u as S,dD as D,jN as H,_ as e,aE as I,a2 as c,jY as O,a$ as T,R as n,eb as d,cA as u,ak as l,al as r,jZ as w,G as A,n as P,C as $,aJ as j,bq as F}from"../index-961d4ed1.js";const L=()=>{const o=v();return R(o.version)};function N(){const{deleteEntity:o,isSubmitting:i}=C([y.GROUPS],{delete:"/api/v1/groups/:id"});return{mutate:o,isSubmitting:i}}const t=P({heading:{id:"column.manage_group",defaultMessage:"Manage Group"},editGroup:{id:"manage_group.edit_group",defaultMessage:"Edit Group"},pendingRequests:{id:"manage_group.pending_requests",defaultMessage:"Pending Requests"},blockedMembers:{id:"manage_group.blocked_members",defaultMessage:"Banned Members"},deleteGroup:{id:"manage_group.delete_group",defaultMessage:"Delete Group"},deleteConfirm:{id:"confirmations.delete_group.confirm",defaultMessage:"Delete"},deleteHeading:{id:"confirmations.delete_group.heading",defaultMessage:"Delete Group"},deleteMessage:{id:"confirmations.delete_group.message",defaultMessage:"Are you sure you want to delete this group? This is a permanent action that cannot be undone."},members:{id:"group.tabs.members",defaultMessage:"Members"},other:{id:"settings.other",defaultMessage:"Other Options"},deleteSuccess:{id:"group.delete.success",defaultMessage:"Group successfully deleted"}}),x=o=>{var m;let{params:i}=o;const{groupId:p}=i,f=L(),M=k(),b=E(),h=q(),s=S(),{group:a}=D(p),_=N(),g=((m=a==null?void 0:a.relationship)==null?void 0:m.role)===H.OWNER;if(!a||!a.relationship)return e(c,{label:s.formatMessage(t.heading)},void 0,e(I,{}));if(!a.relationship.role||!["owner","admin","moderator"].includes(a.relationship.role))return e(O,{});const G=()=>M($("CONFIRM",{icon:j,heading:s.formatMessage(t.deleteHeading),message:s.formatMessage(t.deleteMessage),confirm:s.formatMessage(t.deleteConfirm),onConfirm:()=>{_.mutate(a.id,{onSuccess(){F.success(s.formatMessage(t.deleteSuccess)),h.push(b)}})}}));return e(c,{label:s.formatMessage(t.heading),backHref:`/group/${a.slug}`},void 0,e(T,{className:"space-y-4"},void 0,g&&n.createElement(n.Fragment,null,e(d,{},void 0,e(u,{title:s.formatMessage(t.editGroup)})),e(l,{},void 0,e(r,{label:s.formatMessage(t.editGroup),to:`/group/${a.slug}/manage/edit`},void 0,e("span",{dangerouslySetInnerHTML:{__html:a.display_name_html}})))),e(d,{},void 0,e(u,{title:s.formatMessage(t.members)})),e(l,{},void 0,f.software!==w&&e(r,{label:s.formatMessage(t.pendingRequests),to:`/group/${a.slug}/manage/requests`}),e(r,{label:s.formatMessage(t.blockedMembers),to:`/group/${a.slug}/manage/blocks`})),g&&n.createElement(n.Fragment,null,e(d,{},void 0,e(u,{title:s.formatMessage(t.other)})),e(l,{},void 0,e(r,{label:e(A,{theme:"danger"},void 0,s.formatMessage(t.deleteGroup)),onClick:G})))))};export{x as default};
