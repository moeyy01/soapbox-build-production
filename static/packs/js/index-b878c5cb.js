import{a9 as _,u as y,c as M,t as T,d as w,p as E,r as P,aa as l,_ as e,K as a,ab as B,N as k,a2 as I,n as R,ac as d}from"../index-961d4ed1.js";import{A as S}from"./accordion-3de728a1.js";import{P as $}from"./pull-to-refresh-b67e1521.js";import{P as A}from"./pinned-hosts-picker-a74bebfa.js";import{T as F}from"./timeline-69e892a4.js";import"./chevron-up-a2cf0d93.js";import"./dots-vertical-68cbc8e2.js";import"./scroll-top-button-ff8ae8be.js";import"./status-list-e5eaf038.js";import"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";import"./status-container-8c0c48ff.js";import"./pending-status-d95ac051.js";import"./poll-preview-bd47b324.js";import"./noop-33ff36b4.js";function L({onlyMedia:s}={}){return _(`public${s?":media":""}`,`public${s?":media":""}`)}const c=R({title:{id:"column.public",defaultMessage:"Fediverse timeline"},dismiss:{id:"fediverse_tab.explanation_box.dismiss",defaultMessage:"Don't show again"}}),X=()=>{const s=y(),i=M(),r=T(),n=w(),t=!!n.getIn(["public","other","onlyMedia"],!1),u=E(o=>{var p;return(p=o.timelines.get("public"))==null?void 0:p.next}),m="public",f=n.get("explanationBox"),h=n.get("showExplanationBox"),x=()=>{i(d(["showExplanationBox"],!1))},g=o=>{i(d(["explanationBox"],o))},b=o=>{i(l({url:u,maxId:o,onlyMedia:t}))},v=()=>i(l({onlyMedia:t}));return L({onlyMedia:t}),P.useEffect(()=>{i(l({onlyMedia:t}))},[t]),e(I,{className:"-mt-3 sm:mt-0",label:s.formatMessage(c.title),transparent:!0},void 0,e(A,{}),h&&e("div",{className:"mb-4"},void 0,e(S,{headline:e(a,{id:"fediverse_tab.explanation_box.title",defaultMessage:"What is the Fediverse?"}),action:x,actionIcon:B,actionLabel:s.formatMessage(c.dismiss),expanded:f,onToggle:g},void 0,e(a,{id:"fediverse_tab.explanation_box.explanation",defaultMessage:`{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka "servers"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.`,values:{site_title:r.title,local:e(k,{to:"/timeline/local"},void 0,e(a,{id:"empty_column.home.local_tab",defaultMessage:"the {site_title} tab",values:{site_title:r.title}}))}}))),e($,{onRefresh:v},void 0,e(F,{scrollKey:`${m}_timeline`,timelineId:`${m}${t?":media":""}`,prefix:"home",onLoadMore:b,emptyMessage:e(a,{id:"empty_column.public",defaultMessage:"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up"}),divideType:"space"})))};export{X as default};
