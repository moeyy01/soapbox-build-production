import{u as p,c as h,p as r,r as _,k6 as v,_ as e,a8 as y,af as u,bX as A,K as t,a2 as C,n as k,G as o,H as g,d4 as f,k7 as M,C as w,k8 as b}from"../index-961d4ed1.js";import{S}from"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";const i=k({heading:{id:"column.admin.announcements",defaultMessage:"Announcements"},deleteConfirm:{id:"confirmations.admin.delete_announcement.confirm",defaultMessage:"Delete"},deleteHeading:{id:"confirmations.admin.delete_announcement.heading",defaultMessage:"Delete announcement"},deleteMessage:{id:"confirmations.admin.delete_announcement.message",defaultMessage:"Are you sure you want to delete the announcement?"}}),D=m=>{let{announcement:n}=m;const s=p(),d=h(),c=a=>()=>{d(M(a))},l=a=>()=>{d(w("CONFIRM",{heading:s.formatMessage(i.deleteHeading),message:s.formatMessage(i.deleteMessage),confirm:s.formatMessage(i.deleteConfirm),onConfirm:()=>d(b(a))}))};return e("div",{className:"rounded-lg bg-gray-100 p-4 dark:bg-primary-800"},n.id,e(y,{space:2},void 0,e(o,{dangerouslySetInnerHTML:{__html:n.contentHtml}}),(n.starts_at||n.ends_at||n.all_day)&&e(g,{space:2,wrap:!0},void 0,n.starts_at&&e(o,{size:"sm"},void 0,e(o,{tag:"span",size:"sm",weight:"medium"},void 0,e(t,{id:"admin.announcements.starts_at",defaultMessage:"Starts at:"}))," ",e(f,{value:n.starts_at,year:"2-digit",month:"short",day:"2-digit",weekday:"short"})),n.ends_at&&e(o,{size:"sm"},void 0,e(o,{tag:"span",size:"sm",weight:"medium"},void 0,e(t,{id:"admin.announcements.ends_at",defaultMessage:"Ends at:"}))," ",e(f,{value:n.ends_at,year:"2-digit",month:"short",day:"2-digit",weekday:"short"})),n.all_day&&e(o,{weight:"medium",size:"sm"},void 0,e(t,{id:"admin.announcements.all_day",defaultMessage:"All day"}))),e(g,{justifyContent:"end",space:2},void 0,e(u,{theme:"primary",onClick:c(n)},void 0,e(t,{id:"admin.announcements.edit",defaultMessage:"Edit"})),e(u,{theme:"primary",onClick:l(n.id)},void 0,e(t,{id:"admin.announcements.delete",defaultMessage:"Delete"})))))},N=()=>{const m=p(),n=h(),s=r(a=>a.admin_announcements.items),d=r(a=>a.admin_announcements.isLoading);_.useEffect(()=>{n(v())},[]);const c=()=>{n(M())},l=e(t,{id:"empty_column.admin.announcements",defaultMessage:"There are no announcements yet."});return e(C,{label:m.formatMessage(i.heading)},void 0,e(y,{className:"gap-4"},void 0,e(u,{className:"sm:w-fit sm:self-end",icon:A,onClick:c,theme:"secondary",block:!0},void 0,e(t,{id:"admin.announcements.action",defaultMessage:"Create announcement"})),e(S,{scrollKey:"announcements",emptyMessage:l,itemClassName:"py-3 first:pt-0 last:pb-0",isLoading:d,showLoading:d&&!s.count()},void 0,s.map(a=>e(D,{announcement:a},a.id)))))};export{N as default};
