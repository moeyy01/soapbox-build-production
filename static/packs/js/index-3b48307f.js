import{dU as u,p as l,r as g,_ as e,a1 as p,I as x,u as v,t as h,i8 as M,i9 as _,a2 as I,n as R}from"../index-961d4ed1.js";import{S as b}from"./scrollable-list-74021d3b.js";import{A as y}from"./accordion-3de728a1.js";import{I as E}from"./instance-restrictions-b4a0ddfe.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";import"./chevron-up-a2cf0d93.js";import"./dots-vertical-68cbc8e2.js";const T="/packs/assets/caret-right-8d06c486.svg",k="/packs/assets/caret-down-3f1f97a7.svg",N=u(),S=t=>{let{host:r}=t;const a=l(i=>N(i,r)),[o,c]=g.useState(!1);return e("div",{},void 0,e("a",{href:"#",className:"flex items-center gap-1 py-2.5 no-underline",onClick:i=>{c(d=>!d),i.preventDefault()}},void 0,e(x,{src:o?k:T}),e("div",{className:p({"line-through":a.getIn(["federation","reject"])})},void 0,a.get("host"))),e("div",{className:p({"h-0 overflow-hidden":!o,"h-auto":o})},void 0,e(E,{remoteInstance:a})))},n=R({heading:{id:"column.federation_restrictions",defaultMessage:"Federation Restrictions"},boxTitle:{id:"federation_restrictions.explanation_box.title",defaultMessage:"Instance-specific policies"},boxMessage:{id:"federation_restrictions.explanation_box.message",defaultMessage:"Normally servers on the Fediverse can communicate freely. {siteTitle} has imposed restrictions on the following servers."},emptyMessage:{id:"federation_restrictions.empty_message",defaultMessage:"{siteTitle} has not restricted any instances."},notDisclosed:{id:"federation_restrictions.not_disclosed_message",defaultMessage:"{siteTitle} does not disclose federation restrictions through the API."}}),G=()=>{const t=v(),r=h(),a=g.useCallback(M(),[]),o=l(s=>a(s)),c=l(s=>_(s)),[m,i]=g.useState(!0),d=s=>{i(s)},f=c?n.emptyMessage:n.notDisclosed;return e(I,{label:t.formatMessage(n.heading)},void 0,e(y,{headline:t.formatMessage(n.boxTitle),expanded:m,onToggle:d},void 0,t.formatMessage(n.boxMessage,{siteTitle:r.title})),e("div",{className:"pt-4"},void 0,e(b,{emptyMessage:t.formatMessage(f,{siteTitle:r.title})},void 0,o.map(s=>e(S,{host:s},s)))))};export{G as default};
