import{u as v,c as w,q as b,f as y,p as x,r as C,bA as c,_ as e,a8 as m,G as a,K as s,H as d,bB as D,af as n,a2 as F,n as k,bC as E,bq as N}from"../index-961d4ed1.js";import{S as H}from"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";const i=k({heading:{id:"column.filters",defaultMessage:"Muted words"},home_timeline:{id:"column.filters.home_timeline",defaultMessage:"Home timeline"},public_timeline:{id:"column.filters.public_timeline",defaultMessage:"Public timeline"},notifications:{id:"column.filters.notifications",defaultMessage:"Notifications"},conversations:{id:"column.filters.conversations",defaultMessage:"Conversations"},accounts:{id:"column.filters.accounts",defaultMessage:"Accounts"},delete_error:{id:"column.filters.delete_error",defaultMessage:"Error deleting filter"},edit:{id:"column.filters.edit",defaultMessage:"Edit"},delete:{id:"column.filters.delete",defaultMessage:"Delete"}}),u={home:i.home_timeline,public:i.public_timeline,notifications:i.notifications,thread:i.conversations,account:i.accounts},R=()=>{const l=v(),o=w(),f=b(),{filtersV2:p}=y(),g=x(t=>t.filters),_=t=>()=>f.push(`/filters/${t}`),h=t=>()=>{o(E(t)).then(()=>o(c(!0))).catch(()=>{N.error(l.formatMessage(i.delete_error))})};C.useEffect(()=>{o(c(!0))},[]);const M=e(s,{id:"empty_column.filters",defaultMessage:"You haven't created any muted words yet."});return e(F,{className:"filter-settings-panel",label:l.formatMessage(i.heading)},void 0,e(d,{className:"mb-4",space:2,justifyContent:"end"},void 0,e(n,{to:"/filters/new",theme:"primary",size:"sm"},void 0,e(s,{id:"filters.create_filter",defaultMessage:"Create filter"}))),e(H,{scrollKey:"filters",emptyMessage:M,itemClassName:"pb-4 last:pb-0"},void 0,g.map(t=>e("div",{className:"rounded-lg bg-gray-100 p-4 dark:bg-primary-800"},t.id,e(m,{space:2},void 0,e(m,{className:"grow",space:1},void 0,e(a,{weight:"medium"},void 0,e(s,{id:"filters.filters_list_phrases_label",defaultMessage:"Keywords or phrases:"})," ",e(a,{theme:"muted",tag:"span"},void 0,t.keywords.map(r=>r.keyword).join(", "))),e(a,{weight:"medium"},void 0,e(s,{id:"filters.filters_list_context_label",defaultMessage:"Filter contexts:"})," ",e(a,{theme:"muted",tag:"span"},void 0,t.context.map(r=>u[r]?l.formatMessage(u[r]):r).join(", "))),e(d,{space:4,wrap:!0},void 0,e(a,{weight:"medium"},void 0,p?t.filter_action==="hide"?e(s,{id:"filters.filters_list_hide_completely",defaultMessage:"Hide content"}):e(s,{id:"filters.filters_list_warn",defaultMessage:"Display warning"}):t.filter_action==="hide"?e(s,{id:"filters.filters_list_drop",defaultMessage:"Drop"}):e(s,{id:"filters.filters_list_hide",defaultMessage:"Hide"})),t.expires_at&&e(a,{weight:"medium"},void 0,new Date(t.expires_at).getTime()<=Date.now()?e(s,{id:"filters.filters_list_expired",defaultMessage:"Expired"}):e(D,{timestamp:t.expires_at,className:"whitespace-nowrap",futureDate:!0})))),e(d,{space:2,justifyContent:"end"},void 0,e(n,{theme:"primary",onClick:_(t.id)},void 0,l.formatMessage(i.edit)),e(n,{theme:"danger",onClick:h(t.id)},void 0,l.formatMessage(i.delete))))))))};export{R as default};
