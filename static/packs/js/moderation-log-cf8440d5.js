import{u as M,c as v,p as m,r as i,g8 as g,_ as a,a2 as L,G as c,d4 as _,a8 as S,n as x}from"../index-961d4ed1.js";import{S as w}from"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";const l=x({heading:{id:"column.admin.moderation_log",defaultMessage:"Moderation Log"},emptyMessage:{id:"admin.moderation_log.empty_message",defaultMessage:"You have not performed any moderation actions yet. When you do, a history will be shown here."}}),A=()=>{const t=M(),o=v(),n=m(e=>e.admin_log.index.map(y=>e.admin_log.items.get(String(y)))),u=m(e=>e.admin_log.total-e.admin_log.index.count()>0),[d,s]=i.useState(!0),[p,r]=i.useState(0),h=d&&n.count()===0;i.useEffect(()=>{o(g()).then(()=>{s(!1),r(1)}).catch(()=>{})},[]);const f=()=>{const e=p+1;s(!0),o(g({page:e})).then(()=>{s(!1),r(e)}).catch(()=>{})};return a(L,{label:t.formatMessage(l.heading)},void 0,a(w,{isLoading:d,showLoading:h,scrollKey:"moderation-log",emptyMessage:t.formatMessage(l.emptyMessage),hasMore:u,onLoadMore:f,className:"divide-y divide-solid divide-gray-200 dark:divide-gray-800"},void 0,n.map(e=>e&&a(b,{log:e},e.id))))},b=t=>{let{log:o}=t;return a(S,{space:2,className:"p-4"},void 0,a(c,{},void 0,o.message),a(c,{theme:"muted",size:"xs"},void 0,a(_,{value:new Date(o.time*1e3),hour12:!0,year:"numeric",month:"short",day:"2-digit",hour:"numeric",minute:"2-digit"})))};export{A as default};
