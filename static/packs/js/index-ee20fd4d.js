import{a9 as u,u as p,c as d,d as f,p as g,r as y,ag as o,_ as i,K as h,a2 as M,n as T}from"../index-961d4ed1.js";import{P as x}from"./pull-to-refresh-b67e1521.js";import{T as R}from"./timeline-69e892a4.js";import"./scroll-top-button-ff8ae8be.js";import"./status-list-e5eaf038.js";import"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";import"./status-container-8c0c48ff.js";import"./pending-status-d95ac051.js";import"./poll-preview-bd47b324.js";import"./noop-33ff36b4.js";function $({onlyMedia:t}={}){return u(`community${t?":media":""}`,`public:local${t?":media":""}`)}const b=T({title:{id:"column.community",defaultMessage:"Local timeline"}}),N=()=>{const t=p(),s=d(),e=!!f().getIn(["community","other","onlyMedia"],!1),l=g(m=>{var a;return(a=m.timelines.get("community"))==null?void 0:a.next}),n="community",r=m=>{s(o({url:l,maxId:m,onlyMedia:e}))},c=()=>s(o({onlyMedia:e}));return $({onlyMedia:e}),y.useEffect(()=>{s(o({onlyMedia:e}))},[e]),i(M,{className:"-mt-3 sm:mt-0",label:t.formatMessage(b.title),transparent:!0},void 0,i(x,{onRefresh:c},void 0,i(R,{scrollKey:`${n}_timeline`,timelineId:`${n}${e?":media":""}`,prefix:"home",onLoadMore:r,emptyMessage:i(h,{id:"empty_column.community",defaultMessage:"The local timeline is empty. Write something publicly to get the ball rolling!"}),divideType:"space"})))};export{N as default};
