import{c as g,r,p as M,b1 as A,Y as v,b2 as x,_ as t,aE as E,K as l,G as I,C as p}from"../index-961d4ed1.js";import{W as _}from"./widget-a1deeca4.js";import{M as b}from"./media-item-14a28054.js";import"./arrow-right-b75290c7.js";import"./volume-08f8a8f1.js";const w=m=>{let{account:e}=m;const d=g(),[c,n]=r.useState(!0),u=M(s=>e?A(s,e==null?void 0:e.id):v()),f=s=>{if(s.type==="video")d(p("VIDEO",{media:s,status:s.status}));else{const a=s.getIn(["status","media_attachments"]),i=a.findIndex(o=>o.id===s.id);d(p("MEDIA",{media:a,index:i,status:s.status}))}};return r.useEffect(()=>{n(!0),e&&d(x(e.id)).then(()=>n(!1)).catch(()=>{})},[e==null?void 0:e.id]),t(_,{title:t(l,{id:"media_panel.title",defaultMessage:"Media"})},void 0,e&&t("div",{className:"w-full"},void 0,c?t(E,{}):(()=>{const a=u.filter(i=>i.getIn(["status","visibility"])==="public").slice(0,9);return a.isEmpty()?t(I,{size:"sm",theme:"muted"},void 0,t(l,{id:"media_panel.empty_message",defaultMessage:"No media found."})):t("div",{className:"grid grid-cols-3 gap-1"},void 0,a.map((i,o)=>t(b,{attachment:i,onOpenMedia:f},`${i.getIn(["status","id"])}+${i.id}`)))})()))};export{w as default};
