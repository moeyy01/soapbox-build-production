import{bk as A,f as h,bl as v,bm as L,bn as P,u as S,bo as T,_ as e,H as d,bp as O,G as _,af as R,K as r,bq as E,n as U,r as I,a8 as k,T as w,R as l,ay as f,M as z,a2 as H}from"../index-961d4ed1.js";import{c as F}from"./useAccountList-fdf9a0b8.js";import{S as M}from"./scrollable-list-74021d3b.js";import"./index-c72bc579.js";import"./load-more-1869fbc1.js";function K(){const t=A(),s=h(),{entities:u,...n}=v([P.GROUP_MUTES],()=>t.get("/api/v1/groups/mutes"),{schema:L,enabled:s.groupsMuting});return{...n,mutes:u}}const Y=U({unmuteSuccess:{id:"group.unmute.success",defaultMessage:"Unmuted the group"}}),j=t=>{let{group:s,onUnmute:u}=t;const n=S(),i=T(s),c=()=>{i.mutate(void 0,{onSuccess(){u(),E.success(n.formatMessage(Y.unmuteSuccess))}})};return e(d,{alignItems:"center",justifyContent:"between"},void 0,e(d,{alignItems:"center",space:3},void 0,e(O,{group:s,size:42}),e(_,{weight:"semibold",size:"sm",dangerouslySetInnerHTML:{__html:s.display_name_html},truncate:!0})),e(R,{theme:"primary",type:"button",onClick:c,size:"sm"},void 0,e(r,{id:"group.unmute.label",defaultMessage:"Unmute"})))},q=U({heading:{id:"column.mutes",defaultMessage:"Mutes"}});var a=function(t){return t.ACCOUNTS="ACCOUNTS",t.GROUPS="GROUPS",t}(a||{});const V=()=>{const t=S(),s=h(),{accounts:u,hasNextPage:n,fetchNextPage:i,isLoading:c}=F(),{mutes:b,isLoading:C,hasNextPage:y,fetchNextPage:G,fetchEntities:N}=K(),[m,p]=I.useState(a.ACCOUNTS),x=m===a.ACCOUNTS,g={itemClassName:"pb-4 last:pb-0",scrollKey:"mutes",emptyMessageCard:!1};return e(H,{label:t.formatMessage(q.heading)},void 0,e(k,{space:4},void 0,s.groupsMuting&&e(w,{items:[{text:"Users",action:()=>p(a.ACCOUNTS),name:a.ACCOUNTS},{text:"Groups",action:()=>p(a.GROUPS),name:a.GROUPS}],activeItem:m}),x?l.createElement(M,f({},g,{isLoading:c,onLoadMore:i,hasMore:n,emptyMessage:e(r,{id:"empty_column.mutes",defaultMessage:"You haven't muted any users yet."})}),u.map(o=>e(z,{id:o.id,actionType:"muting"},o.id))):l.createElement(M,f({},g,{isLoading:C,onLoadMore:G,hasMore:y,emptyMessage:e(r,{id:"mutes.empty.groups",defaultMessage:"You haven't muted any groups yet."})}),b.map(o=>e(j,{group:o,onUnmute:N})))))};export{V as default};
