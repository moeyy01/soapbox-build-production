import{c as k,r as l,aU as L,p as a,ba as M,Z as u,cq as r,R as n,_ as x,ay as E,n as R,cr as A}from"../index-961d4ed1.js";import{S as F}from"./scroll-top-button-ff8ae8be.js";import{S as w}from"./status-list-e5eaf038.js";const y=R({queue:{id:"status_list.queue_label",defaultMessage:"Click to see {count} new {count, plural, one {post} other {posts}}"}}),B=c=>{let{timelineId:t,onLoadMore:i,prefix:d,...m}=c;const o=k(),p=l.useCallback(L(),[]),g=a(s=>{var e;return(((e=s.timelines.get(t))==null?void 0:e.items)||M()).last()}),S=a(s=>p(s,{type:t,prefix:d})),f=a(s=>(s.timelines.get(t)||{isLoading:!0}).isLoading===!0),T=a(s=>{var e;return(((e=s.timelines.get(t))==null?void 0:e.isPartial)||!1)===!0}),h=a(s=>{var e;return((e=s.timelines.get(t))==null?void 0:e.hasMore)===!0}),I=a(s=>{var e;return((e=s.timelines.get(t))==null?void 0:e.totalQueuedItemsCount)||0}),b=a(s=>{var e;return!!((e=s.timelines.get(t))!=null&&e.feedAccountId)}),q=()=>{b||o(A(t,i))},C=l.useCallback(u(()=>{o(r(t,!0))},100),[t]),_=l.useCallback(u(()=>{o(r(t,!1))},100),[t]);return n.createElement(n.Fragment,null,x(F,{onClick:q,count:I,message:y.queue},"timeline-queue-button-header"),n.createElement(w,E({timelineId:t,onScrollToTop:C,onScroll:_,lastStatusId:g,statusIds:S,isLoading:f,isPartial:T,hasMore:h,onLoadMore:i},m)))};export{B as T};
