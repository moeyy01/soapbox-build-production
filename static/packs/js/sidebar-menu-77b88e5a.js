import{u as B,c as E,r as T,h6 as z,f as G,p as u,b4 as V,z as $,h7 as j,R as c,h8 as K,_ as e,a1 as b,aI as X,ab as J,a8 as h,N as Q,b3 as y,dV as g,h9 as U,m as W,ha as Y,d6 as Z,aH as ee,V as se,hb as ae,hc as te,hd as oe,K as k,he as ie,f8 as R,hf as le,fc as P,f9 as ne,H as q,G as x,c7 as w,cR as re,h0 as N,bX as ce,n as de,hg as ue,eo as ge,hh as fe}from"../index-961d4ed1.js";import{v as ve}from"./hash-746ab8b6.js";import{P as me}from"./profile-stats-5c7b65b0.js";const ke="/packs/assets/filter-a759b038.svg",o=de({followers:{id:"account.followers",defaultMessage:"Followers"},follows:{id:"account.follows",defaultMessage:"Follows"},profile:{id:"account.profile",defaultMessage:"Profile"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domainBlocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"},filters:{id:"navigation_bar.filters",defaultMessage:"Muted words"},followedTags:{id:"navigation_bar.followed_tags",defaultMessage:"Followed hashtags"},soapboxConfig:{id:"navigation_bar.soapbox_config",defaultMessage:"Soapbox config"},accountMigration:{id:"navigation_bar.account_migration",defaultMessage:"Move account"},accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},bookmarks:{id:"column.bookmarks",defaultMessage:"Bookmarks"},lists:{id:"column.lists",defaultMessage:"Lists"},groups:{id:"column.groups",defaultMessage:"Groups"},events:{id:"column.events",defaultMessage:"Events"},invites:{id:"navigation_bar.invites",defaultMessage:"Invites"},developers:{id:"navigation.developers",defaultMessage:"Developers"},addAccount:{id:"profile_dropdown.add_account",defaultMessage:"Add an existing account"},followRequests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},close:{id:"lightbox.close",defaultMessage:"Close"}}),i=a=>{let{href:r,to:f,icon:l,text:_,onClick:n}=a;const v=e(q,{space:2,alignItems:"center"},void 0,e("div",{className:"relative inline-flex rounded-full bg-primary-50 p-2 dark:bg-gray-800"},void 0,e(w,{src:l,className:"h-5 w-5 text-primary-500"})),e(x,{tag:"span",weight:"medium",theme:"inherit"},void 0,_));return f?e(N,{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",to:f,onClick:n},void 0,v):e("a",{className:"group rounded-full text-gray-900 hover:bg-gray-50 dark:text-gray-100 dark:hover:bg-gray-800",href:r,target:"_blank",onClick:n},void 0,v)},he=()=>{const a=B(),r=E(),f=T.useCallback(z(),[]),l=G(),_=u(s=>s.me),{account:n}=V(_||void 0),v=u(s=>f(s)),m=u(s=>s.sidebar.sidebarOpen),A=u(s=>$(s)),S=u(s=>s.user_lists.follow_requests.items.count()),L=j(),F=c.useRef(null),[M,C]=c.useState(!1),t=()=>r(ue()),d=()=>{C(!1),t()},H=s=>p=>{p.preventDefault(),r(fe(s.id))},D=s=>{s.preventDefault(),r(ge())},I=s=>{s.preventDefault(),C(p=>!p)},O=s=>e("a",{href:"#",className:"block py-2",onClick:H(s)},s.id,e("div",{className:"pointer-events-none"},void 0,e(y,{account:s,showProfileHoverCard:!1,withRelationship:!1,withLinkToProfile:!1})));return c.useEffect(()=>{r(K())},[]),n?e("div",{"aria-expanded":m,className:b({"z-[1000]":m,hidden:!m})},void 0,e("div",{className:"fixed inset-0 bg-gray-500/90 dark:bg-gray-700/90",role:"button",onClick:d}),e("div",{className:"fixed inset-0 z-[1000] flex"},void 0,e("div",{className:b({"flex flex-col flex-1 bg-white dark:bg-primary-900 -translate-x-full rtl:translate-x-full w-full max-w-xs":!0,"!translate-x-0":m})},void 0,c.createElement(X,{title:a.formatMessage(o.close),onClick:d,src:J,ref:F,iconClassName:"h-6 w-6",className:"absolute right-0 top-0 -mr-11 mt-2 text-gray-600 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}),e("div",{className:"relative h-full w-full overflow-auto overflow-y-scroll"},void 0,e("div",{className:"p-4"},void 0,e(h,{space:4},void 0,e(Q,{to:`/@${n.acct}`,onClick:t},void 0,e(y,{account:n,showProfileHoverCard:!1,withLinkToProfile:!1})),e(me,{account:n,onClickHandler:d}),e(h,{space:4},void 0,e(g,{}),e(i,{to:`/@${n.acct}`,icon:U,text:a.formatMessage(o.profile),onClick:t}),(n.locked||S>0)&&e(i,{to:"/follow_requests",icon:W,text:a.formatMessage(o.followRequests),onClick:t}),l.bookmarks&&e(i,{to:"/bookmarks",icon:Y,text:a.formatMessage(o.bookmarks),onClick:t}),l.groups&&e(i,{to:L,icon:Z,text:a.formatMessage(o.groups),onClick:t}),l.lists&&e(i,{to:"/lists",icon:ee,text:a.formatMessage(o.lists),onClick:t}),l.events&&e(i,{to:"/events",icon:se,text:a.formatMessage(o.events),onClick:t}),A.get("isDeveloper")&&e(i,{to:"/developers",icon:ae,text:a.formatMessage(o.developers),onClick:t}),l.publicTimeline&&c.createElement(c.Fragment,null,e(g,{}),e(i,{to:"/timeline/local",icon:l.federating?te:oe,text:l.federating?e(k,{id:"tabs_bar.local",defaultMessage:"Local"}):e(k,{id:"tabs_bar.all",defaultMessage:"All"}),onClick:t}),l.federating&&e(i,{to:"/timeline/fediverse",icon:ie,text:e(k,{id:"tabs_bar.fediverse",defaultMessage:"Fediverse"}),onClick:t})),e(g,{}),e(i,{to:"/blocks",icon:R,text:a.formatMessage(o.blocks),onClick:t}),e(i,{to:"/mutes",icon:le,text:a.formatMessage(o.mutes),onClick:t}),e(i,{to:"/settings/preferences",icon:P,text:a.formatMessage(o.preferences),onClick:t}),l.federating&&e(i,{to:"/domain_blocks",icon:R,text:a.formatMessage(o.domainBlocks),onClick:t}),(l.filters||l.filtersV2)&&e(i,{to:"/filters",icon:ke,text:a.formatMessage(o.filters),onClick:t}),l.followedHashtagsList&&e(i,{to:"/followed_tags",icon:ve,text:a.formatMessage(o.followedTags),onClick:t}),n.admin&&e(i,{to:"/soapbox/config",icon:P,text:a.formatMessage(o.soapboxConfig),onClick:t}),e(g,{}),e(i,{to:"/logout",icon:ne,text:a.formatMessage(o.logout),onClick:D}),e(g,{}),e(h,{space:4},void 0,e("button",{type:"button",onClick:I,className:"py-1"},void 0,e(q,{alignItems:"center",justifyContent:"between"},void 0,e(x,{tag:"span"},void 0,e(k,{id:"profile_dropdown.switch_account",defaultMessage:"Switch accounts"})),e(w,{src:re,className:b("h-4 w-4 text-gray-900 transition-transform dark:text-gray-100",{"rotate-180":M})}))),M&&e("div",{className:"border-t-2 border-solid border-gray-100 dark:border-gray-800"},void 0,v.map(s=>O(s)),e(N,{className:"flex items-center space-x-1 py-2",to:"/login/add",onClick:d},void 0,e(w,{className:"h-4 w-4 text-primary-500",src:ce}),e(x,{size:"sm",weight:"medium"},void 0,a.formatMessage(o.addAccount)))))))))),e("div",{"aria-hidden":!0,className:"w-14 shrink-0",onClick:d}))):null};export{he as default};
